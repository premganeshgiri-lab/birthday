<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Happy Birthday ‚ù§Ô∏è</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">

<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Three.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

<!-- GSAP -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<!-- Confetti -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<style>
:root{
  --bg:#0c0a09;
}

body{
  margin:0;
  font-family:'Satoshi', sans-serif;
  background: var(--bg);
  overflow:hidden;
  color:#f3f4f6;
}

/* Aurora Background */
.aurora{
  position:fixed;
  inset:0;
  z-index:-3;
  background:
    radial-gradient(circle at 20% 30%, hsla(333,70%,55%,.4), transparent 40%),
    radial-gradient(circle at 80% 20%, hsla(282,82%,54%,.3), transparent 40%),
    radial-gradient(circle at 50% 80%, hsla(210,89%,60%,.3), transparent 40%),
    radial-gradient(circle at 30% 70%, hsla(35,90%,60%,.3), transparent 40%);
  animation: auroraMove 18s ease-in-out infinite alternate;
}

@keyframes auroraMove{
  0%{ filter:hue-rotate(0deg) brightness(1);}
  50%{ filter:hue-rotate(20deg) brightness(1.2);}
  100%{ filter:hue-rotate(-20deg) brightness(1);}
}

/* Three canvas */
#three-bg{
  position:fixed;
  inset:0;
  z-index:-2;
}

/* Glass Card */
.glass{
  background: rgba(15,15,20,0.65);
  backdrop-filter: blur(25px);
  border:1px solid rgba(255,255,255,0.1);
  box-shadow: 0 20px 50px rgba(0,0,0,0.5);
  border-radius: 24px;
}

/* Gradient Headings */
.gradient-text{
  font-family:'Playfair Display', serif;
  background: linear-gradient(90deg,#fff,#f9a8d4,#ffffff);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
}

/* Buttons */
.pill-btn{
  background: linear-gradient(90deg,#ff4d88,#ff1f5a);
  padding:12px 28px;
  border-radius:999px;
  font-weight:600;
  color:white;
  box-shadow:0 0 20px rgba(255,50,120,0.6);
  transition:all .3s ease;
}

.pill-btn:hover{
  transform:scale(1.05) translateY(-4px);
  box-shadow:0 0 35px rgba(255,50,120,0.9);
}

.pill-btn:active{
  transform:scale(.98);
}

/* Progress */
.progress-track{
  position:fixed;
  top:20px;
  left:50%;
  transform:translateX(-50%);
  width:60%;
  height:6px;
  border-radius:999px;
  background:rgba(255,255,255,0.1);
  backdrop-filter:blur(10px);
  z-index:10;
}

.progress-bar{
  height:100%;
  width:0%;
  border-radius:999px;
  background:linear-gradient(90deg,#ff4d88,#ff1f5a);
  transition:width .6s ease;
}

/* Step Animations */
.step{
  position:absolute;
  width:100%;
  display:none;
  padding:20px;
}

.active{
  display:flex;
}

/* Heart beat */
.beat{
  animation:beat 1.5s infinite;
}

@keyframes beat{
  0%,100%{transform:scale(1);}
  50%{transform:scale(1.15);}
}

/* Polaroid */
.polaroid{
  background:white;
  padding:10px 10px 40px;
  border-radius:8px;
  transform-style:preserve-3d;
  transition:transform .2s ease;
  box-shadow:0 20px 40px rgba(0,0,0,0.4);
}

.polaroid img{
  border-radius:4px;
}

.polaroid-caption{
  color:#111;
  font-family:'Playfair Display', serif;
  margin-top:8px;
  text-align:center;
}
</style>
</head>

<body>

<div class="aurora"></div>
<canvas id="three-bg"></canvas>

<div class="progress-track">
  <div class="progress-bar" id="progress"></div>
</div>

<div id="app" class="w-full h-screen flex items-center justify-center text-center relative overflow-hidden">

<!-- STEP 1 -->
<div class="step active flex-col items-center justify-center" data-step="1">
  <div class="glass p-10 max-w-xl w-full space-y-6">
    <div class="text-6xl beat">‚ù§Ô∏è</div>
    <h1 class="text-4xl gradient-text">Hey Beautiful,</h1>
    <p>I built a little world for you, just to bring a smile to your face on your special day.</p>
    <button class="pill-btn next">Let's Begin</button>
  </div>
</div>

<!-- STEP 2 -->
<div class="step flex-col items-center justify-center" data-step="2">
  <div class="glass p-10 max-w-xl w-full space-y-6">
    <div class="text-6xl">üéâ</div>
    <h1 class="text-4xl gradient-text">Happy Birthday!</h1>
    <p>Another year of you making the world brighter. Your existence is a gift, and I'm so lucky to witness it.</p>
    <button class="pill-btn next">There's more...</button>
  </div>
</div>

<!-- STEP 3 -->
<div class="step flex-col items-center justify-center" data-step="3">
  <div class="glass p-10 max-w-4xl w-full space-y-8">
    <h2 class="text-3xl gradient-text">A Few Things I Adore About You</h2>
    <div class="grid md:grid-cols-3 gap-4 text-left">
      <div class="glass p-6 md:col-span-2">
        <h3>‚ú® Your Unmatched Kindness</h3>
        <p>The genuine warmth you show to everyone is something truly rare and beautiful.</p>
      </div>
      <div class="glass p-6">
        <h3>üòä That Smile</h3>
        <p>It's a work of art.</p>
      </div>
      <div class="glass p-6 md:col-span-2">
        <h3>üåü Your Radiant Spirit</h3>
        <p>Your passion for life is infectious. Being around you makes everything feel more exciting and possible.</p>
      </div>
    </div>
    <button class="pill-btn next">Remember this?</button>
  </div>
</div>

<!-- STEP 4 -->
<div class="step flex-col items-center justify-center" data-step="4">
  <div class="glass p-10 max-w-xl w-full space-y-6">
    <h2 class="text-3xl gradient-text">That One Time...</h2>
    <div class="flex justify-center">
      <div class="polaroid" id="polaroid">
        <img src="https://i.ibb.co/6Z6XgCg/crush.webp" width="250">
        <div class="polaroid-caption">Our favorite memory.</div>
      </div>
    </div>
    <p>Every moment with you feels like a scene from a movie I'd watch on repeat.</p>
    <button class="pill-btn next">One last thing...</button>
  </div>
</div>

<!-- STEP 5 -->
<div class="step flex-col items-center justify-center" data-step="5">
  <div class="glass p-10 max-w-xl w-full space-y-6">
    <div class="text-6xl">üéÇ</div>
    <h2 class="text-3xl gradient-text">My Wish For You</h2>
    <p>May the next year bring you all the love, success, and pure happiness you so rightfully deserve. May your dreams soar higher than ever.</p>
    <div id="finalText" class="text-2xl gradient-text opacity-0">Happy Birthday, my crush! ‚ù§Ô∏è</div>
    <button class="pill-btn" id="celebrateBtn">Celebrate!</button>
  </div>
</div>

</div>

<script>
/* Step Logic */
let current=1;
const total=5;
const steps=document.querySelectorAll('.step');
const progress=document.getElementById('progress');

function showStep(n){
  steps.forEach(s=>s.classList.remove('active'));
  const next=document.querySelector(`[data-step="${n}"]`);
  next.classList.add('active');
  gsap.fromTo(next,{opacity:0,y:40},{opacity:1,y:0,duration:0.8});
  progress.style.width=((n-1)/(total-1))*100+"%";
}

document.querySelectorAll('.next').forEach(btn=>{
  btn.addEventListener('click',()=>{
    if(current<total){ current++; showStep(current); }
  });
});

/* Polaroid Tilt */
const polaroid=document.getElementById('polaroid');
polaroid.addEventListener('mousemove',e=>{
  const rect=polaroid.getBoundingClientRect();
  const x=(e.clientX-rect.left)/rect.width-.5;
  const y=(e.clientY-rect.top)/rect.height-.5;
  polaroid.style.transform=`rotateY(${x*20}deg) rotateX(${-y*20}deg)`;
});
polaroid.addEventListener('mouseleave',()=>polaroid.style.transform='rotateY(0) rotateX(0)');

/* Celebrate */
document.getElementById('celebrateBtn').addEventListener('click',()=>{
  const btn=document.getElementById('celebrateBtn');
  btn.disabled=true;
  gsap.to(btn,{opacity:0,duration:.5});
  gsap.to("#finalText",{opacity:1,y:-10,duration:1,delay:.5});
  
  const duration=5000;
  const end=Date.now()+duration;
  (function frame(){
    confetti({particleCount:5,spread:70,origin:{y:0.6}});
    if(Date.now()<end) requestAnimationFrame(frame);
  })();
});

/* Three.js Hearts */
const scene=new THREE.Scene();
const camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);
const renderer=new THREE.WebGLRenderer({canvas:document.getElementById('three-bg'),alpha:true});
renderer.setSize(window.innerWidth,window.innerHeight);
camera.position.z=15;

const hearts=[];
const shape=new THREE.Shape();
shape.moveTo(0,0);
shape.bezierCurveTo(0,3,3,3,3,0);
shape.bezierCurveTo(3,-3,0,-5,0,-7);
shape.bezierCurveTo(0,-5,-3,-3,-3,0);
shape.bezierCurveTo(-3,3,0,3,0,0);

const geometry=new THREE.ExtrudeGeometry(shape,{depth:1,bevelEnabled:false});

for(let i=0;i<22;i++){
  const material=new THREE.MeshPhongMaterial({color:0xff4d88,shininess:100});
  const mesh=new THREE.Mesh(geometry,material);
  mesh.position.set((Math.random()-0.5)*30,(Math.random()-0.5)*20,(Math.random()-0.5)*20);
  mesh.scale.setScalar(Math.random()*0.3+0.2);
  scene.add(mesh);
  hearts.push(mesh);
}

const light=new THREE.PointLight(0xffffff,1);
light.position.set(10,10,10);
scene.add(light);

function animate(){
  requestAnimationFrame(animate);
  hearts.forEach(h=>{
    h.rotation.y+=0.01;
    h.position.y+=Math.sin(Date.now()*0.001+h.position.x)*0.002;
  });
  renderer.render(scene,camera);
}
animate();

window.addEventListener('resize',()=>{
  renderer.setSize(window.innerWidth,window.innerHeight);
  camera.aspect=window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
});
</script>

</body>
</html>
